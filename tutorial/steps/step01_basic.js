// ==========================================================
// 1ë‹¨ê³„: Express ê¸°ë³¸ ì„œë²„ êµ¬ì¡°
// ==========================================================
// í•™ìŠµ ëª©í‘œ:
// 1. Express ì„œë²„ì˜ ê¸°ë³¸ êµ¬ì¡° ì´í•´
// 2. í¬íŠ¸ ì„¤ì •ê³¼ ì„œë²„ ì‹œì‘ ë°©ë²•
// 3. ê°„ë‹¨í•œ ë¼ìš°íŠ¸ ì‘ì„±

// Express ëª¨ë“ˆ ê°€ì ¸ì˜¤ê¸° (CommonJS ë°©ì‹)
const express = require('express');

// Express ì• í”Œë¦¬ì¼€ì´ì…˜ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
const app = express();

// í¬íŠ¸ ë²ˆí˜¸ ì„¤ì • (í™˜ê²½ë³€ìˆ˜ ë˜ëŠ” ê¸°ë³¸ê°’ 3000)
const PORT = process.env.PORT || 3000;

// ==========================================================
// ê¸°ë³¸ ë¼ìš°íŠ¸ ì„¤ì •
// ==========================================================

// GET ìš”ì²­ ì²˜ë¦¬: ë£¨íŠ¸ ê²½ë¡œ ('/')
app.get('/', (req, res) => {
  res.send('<h1>ğŸ‰ Express ì„œë²„ ì‹œì‘!</h1><p>ì²« ë²ˆì§¸ Express ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.</p>');
});

// GET ìš”ì²­ ì²˜ë¦¬: About í˜ì´ì§€
app.get('/about', (req, res) => {
  res.send('<h1>ğŸ“š About</h1><p>Node.js Express ê°•ì˜ 1ë‹¨ê³„ì…ë‹ˆë‹¤.</p>');
});

// JSON ì‘ë‹µ ì˜ˆì‹œ
app.get('/api/hello', (req, res) => {
  res.json({
    message: 'Hello from Express!',
    timestamp: new Date().toISOString(),
    version: '1.0.0'
  });
});

// ==========================================================
// ì„œë²„ ì‹œì‘
// ==========================================================

// ì§€ì •ëœ í¬íŠ¸ì—ì„œ ì„œë²„ ì‹œì‘
app.listen(PORT, () => {
  console.log('='.repeat(50));
  console.log('ğŸš€ Express ì„œë²„ê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤!');
  console.log(`ğŸ“ ì£¼ì†Œ: http://localhost:${PORT}`);
  console.log(`â° ì‹œì‘ ì‹œê°„: ${new Date().toLocaleString()}`);
  console.log('='.repeat(50));
});

// ==========================================================
// ì˜ˆìƒ ê²°ê³¼:
// 1. http://localhost:3000 â†’ HTML ì‘ë‹µ
// 2. http://localhost:3000/about â†’ About í˜ì´ì§€
// 3. http://localhost:3000/api/hello â†’ JSON ì‘ë‹µ
// ==========================================================